name: Send Test Message to Feishu

on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest

    steps:
            - name: Send message
        env:
          FEISHU_WEBHOOK: ${{ secrets.FEISHU_WEBHOOK }}
        run: |
          TODAY=$(date +"%Y-%m-%d")

          cat > payload.json <<EOF
          {
            "msg_type": "text",
            "content": {
              "text": "ðŸ¤– AIç¡¬ä»¶æ—¥æŠ¥ï½œ${TODAY}\n\nã€ä¸€å¥è¯æ€»è§ˆã€‘\nAI ç¡¬ä»¶æ­£åœ¨ä»Žæ‹¼ç®—åŠ›ï¼Œè½¬å‘æ‹¼æ•ˆçŽ‡å’Œè½åœ°ã€‚\n\nðŸŒ å…¨çƒ AI ç¡¬ä»¶\n1ï¸âƒ£ï¼ˆç¤ºä¾‹ï¼‰æŸå…¬å¸å‘å¸ƒæ–°èŠ¯ç‰‡\n- çœ‹ç‚¹ï¼šèƒ½æ•ˆæ¯”ä¸Žè½åœ°\n\nðŸ‡¨ðŸ‡³ ä¸­å›½ AI ç¡¬ä»¶\n2ï¸âƒ£ï¼ˆç¤ºä¾‹ï¼‰å›½äº§ç®—åŠ›æŽ¨è¿›åº”ç”¨\n- çœ‹ç‚¹ï¼šå·¥ç¨‹åŒ–ä¸Žä¾›ç»™\n\nðŸ“ˆ è¶‹åŠ¿åˆ¤æ–­\nAI ç¡¬ä»¶æ­£åœ¨è¿›å…¥äº§å“åŒ–é˜¶æ®µã€‚"
            }
          }
          EOF

          curl -X POST "$FEISHU_WEBHOOK" \
            -H "Content-Type: application/json" \
            -d @payload.json
